:imagesdir: Images
:table-caption: Таблица
:figure-caption: Рисунок
:toc:
:toc-title: ОГЛАВЛЕНИЕ:

== Требования к ПО
=== Задание к курсовой работе (вариант 8)
--
image::img1.png[]
image::img2.png[]

--
=== 1. Переменный резистор

*Переменный резистор* (или *потенциометр*) - это резистор, у которого электрическое сопротивление между подвижным контактом и выводами резистивного элемента можно изменять механическим способом.

Снимаемое с подвижного отводного контакта потенциометра напряжение может изменяться от нуля до максимального значения, равного приложенному к потенциометру напряжению, в зависимости от текущего положения подвижного контакта.

Величина снимаемого напряжения может как линейно зависеть от перемещения движка, так и логарифмически, поэтому потенциометры подразделяются на *линейные* и *логарифмические* .

.Схема работы переменного резистора
image::img3.png[]

Согласно схеме платы расширения переменный резистор находится на линии *PA0* и имеет номинал *10 кОм*.

.Потенциометр на схеме
image::img4.png[]

Предположим, что на нашей плате стоит переменный резистор с линейной функцией преобразования.

Формула для расчета напряжения, получаемого с АЦП:

image::img5.png[]

image::img10.png[]


=== 2. Аналого-цифровой преобразователь

*Аналого-цифровой преобразователь* – устройство, которое принимает аналоговые сигналы и генерирует соответствующий им цифровой код, пригодный для дальнейшей обработки микропроцессором или другим цифровым устройством.

Сперва АЦП преобразует аналоговый сигнал в дискретный, чтобы разбить измеряемый диапазон на какое-то конечное количество значений. Такой процесс называется *квантованием*.

*Основными характеристиками* АЦП можно назвать *частоту преобразования*, которая выражается в отсчетах в секунду (samples per second) и *разрядность* (количество шагов) – в битах.

Почти во всех микроконтроллерах STM32, АЦП выполнено по схеме 12-битного АЦП последовательного приближения (SAR ADC), структурная схема которая показана на рисунке 3.

.Структурная схема АЦП последовательного приближения
image::img6.png[]

* Он включает в себя компаратор, регистр последовательного приближения (SAR), цифро-аналоговый преобразователь (ЦАП).
* Регистр последовательного приближения осуществляет алгоритм последовательного приближения, генерируя текущее значение кода, подающегося на вход ЦАП, на основе которого ЦАП генерирует выходное напряжение.
* Компаратор сравнивает значение входного сигнала с сигналом выхода ЦАП.
Данный вид преобразователя измеряет величину входного сигнала, осуществляя ряд последовательных «взвешиваний» (сравнений) измеряемой величины с 1/2, 1/4, 1/8, и т.д. от ее возможного максимального значения.
* Допустим, что сигнал находится в интервале (0 – Uоп), тогда с приходом первого тактового импульса регистра последовательного приближения на выходе встроенного ЦАП устанавливается величина, равная половине Uоп. Если сигнал превышает эту величину, тогда его сравнивают с напряжением 3/4 Uоп, которое находится посередине оставшегося интервала. Если сигнал меньше установленного уровня, то следующее сравнение будет производиться с меньшей половиной оставшегося интервала (т.е. с уровнем 1/4 Uоп). Такое сравнение повторяется N раз и на выходе получается N бит результата.

*Основные параметры АЦП*, используемого в данной работе:

* Напряжение питания: *Vdd* = 1,7 - 3,6 В (стндартное значение Vdd = 3,3 В);
* Опорное напряжение: *Vref* = 1,7 - Vdd;

.Точность АЦП для 30 МГц
[options="header"]
|=====================
|Обозначение|Параметр                          |Значение        |Единицы измерения
|ET         |Общая нескорректированная ошибка  |От ±2 до ±5     |LSB
|EO         |Ошибка смещения                   |От ±1,5 до ±2,5 |LSB
|EG         |Ошибка усиления                   |От ±1,5 до ±4   |LSB
|ED         |Ошибка дифференциальной линейности|От ±1 до ±2     |LSB
|EL         |Ошибка интегральной линейности    |От ±1,5 до ±3   |LSB
|=====================

.Характеристика точности АЦП
image::img7.png[]

* Основную часть погрешности преобразования аналогового сигнала в цифровой код составляет погрешность АЦП, которая определяется погрешностью квантования. Погрешность квантования равна весу младшего разряда и вычисляется по формуле:

image::img9.png[]

* Определим погрешность квантования

image::img8.png[]

* Определим приведенную погрешность АЦП:

image::img11.png[]







